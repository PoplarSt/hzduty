# åç«¯æ¥å£æœåŠ¡

## ç¨‹åºæ–‡æ¡£


### **æµ‹è¯•é¡¹ç›®ä½¿ç”¨**

- [**æµ‹è¯•æ¥å£**](/api/v1.0/test/rapidoc) 

- [**æµ‹è¯•ä»£ç ç”Ÿæˆ**](/api/v1.0/autoCode/rapidoc) 

- [**æµ‹è¯•æŠ¤æ°‘ä¹‹ç›¾ä¸šåŠ¡**](/api/v2.0/shield/rapidoc) 



## æ¥å£æ–‡æ¡£å›¾ä¾‹:

        ğŸ”’:è¶…çº§ç®¡ç†å‘˜ï¼ˆéè¿ç»´äººå‘˜å‹¿åŠ¨ï¼‰
        ğŸ‘®:äººé˜²ç®¡ç†å‘˜æƒé™ï¼ˆäººé˜²å•ä½çš„äººï¼Œä¸»è¦ä»webç«¯åå°è¿›è¡Œç®¡ç†ï¼‰
        ğŸ§‘â€ğŸ’¼:æ™®é€šå‘˜å·¥ï¼ˆåŸºå±‚å·¥ä½œäººå‘˜ï¼Œå¦‚ç½‘æ ¼å‘˜ç­‰ï¼‰
        ğŸ™:æ™®é€šæ°‘ä¼—ï¼ˆæ°‘ä¼—æƒé™ï¼Œå¦‚æŠ¤æ°‘ä¹‹ç›¾ã€ç­”é¢˜ç­‰ï¼‰
        ğŸ§‘:æœ‰tokenå³å¯ï¼ˆè¦æ±‚ç™»å½•è´¦å·æ‰èƒ½ä½¿ç”¨çš„æ¥å£ï¼‰
           :å¦‚æ²¡æœ‰ä¸Šè¿°å›¾æ ‡ï¼Œåˆ™å¯ä»¥ç›´æ¥æŸ¥è¯¢ï¼Œå¦‚APPé¦–é¡µå›¾æ ‡çš„é…ç½®

        ğŸ› ï¸:è®¾å®šé¡¹ï¼ˆä¿®æ”¹è®¾å®šéœ€æ”¹åŠ¨ç¨‹åºï¼‰
        âš™ï¸:é…ç½®é¡¹ï¼ˆè¿ç»´äººå‘˜é€šè¿‡ä¿®æ”¹æ•°æ®åº“/é…ç½®æ–‡ä»¶å®ç°åŠŸèƒ½å˜åŒ–ï¼Œæ— éœ€æ”¹åŠ¨ç¨‹åºï¼‰
        â°:å¸¦æœ‰ç¼“å­˜

        ğŸ”´:å¼€å‘ä¸­ï¼Œå­˜åœ¨å·²çŸ¥é—®é¢˜ï¼Œä¸èƒ½ä½¿ç”¨
        ğŸŸ¡:æµ‹è¯•ä¸­ï¼Œå¯èƒ½å­˜åœ¨é—®é¢˜
        ğŸ”µ:ç”Ÿäº§ä¸­ï¼Œæ–°å¢æˆ–è¿‘æœŸæœ‰ä¿®æ”¹çš„æ¥å£
        ğŸŸ¢:ç”Ÿäº§ä¸­
        ğŸŸ¤:åºŸå¼ƒä¸­ï¼Œå³å°†æš‚åœä½¿ç”¨
        âšª:æš‚åœä¸­ï¼ŒåŠŸèƒ½ä¸æ˜ç¡®ï¼Œæœªæ¥å¯èƒ½æ·»åŠ çš„æ¥å£


## å…¶ä»–æœåŠ¡

### 1ã€æ–‡ä»¶é¢„è§ˆæœåŠ¡

> æ–‡ä»¶é¢„è§ˆä½¿ç”¨kkfileviewï¼Œé€šè¿‡æ¥å£è·å–æ–‡ä»¶è·¯å¾„ï¼Œè¿”å›é¢„è§ˆåœ°å€ï¼Œå‰ç«¯é€šè¿‡iframeåŠ è½½é¢„è§ˆåœ°å€ã€‚
> [**æ–‡ä»¶é¢„è§ˆæ–‡æ¡£**](/onlinePreview/index)
> ä½¿ç”¨æ–¹æ³•ï¼š'/onlinePreview/onlinePreview?url=' + encodeURIComponent(base64Encode(url));
> ä¾‹å¦‚ï¼šhttps://example.irenfang.cn/onlinePreview/onlinePreview?officePreviewType=pdf&url=aHR0cHM6Ly9uYW5qaW5nLmlyZW5mYW5nLmNuOjgzMjEvZmlsZS9zaGllbGQvOWJmMGY5NzYyYTZiZGVkNzQzMDQzNjE1ZmE1YmQyNDZmY2I5YWIxZTliOTc3Zjc5MDkyYzY0YTc1MWZlZTVhZC5wbmc%3D
> è¿™é‡Œéœ€è¦ä¸¤å±‚onlinePreviewï¼Œæ˜¯è€ƒè™‘åˆ°nginxåå‘ä»£ç†ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªonlinePreviewå¯ä»¥æœ‰åç«¯äººå‘˜åœ¨éƒ¨ç½²dockerå’Œnginxæ—¶é…ç½®ï¼Œç¬¬äºŒä¸ªonlinePreviewæ˜¯kkæœ¬èº«éœ€è¦çš„å‚æ•°ã€‚ç›®å‰ç”Ÿäº§ç¯å¢ƒæš‚æ—¶ä¿æŒä¸¤ä¸ªonlinePreviewçš„å½¢å¼ã€‚


   éƒ¨ç½²æ–¹æ¡ˆï¼ˆå‚è€ƒdocker-composeï¼‰:
   ```yaml
   version: '3'
   services:
      # æ–‡ä»¶é¢„è§ˆ
      fileview:
         image: keking/kkfileview:4.1.0
         restart: always
         ports:
            - 8012:8012
         environment:
            KK_FILE_DIR: "/data/file"  # æ–‡ä»¶è·¯å¾„åœ°å€
            KK_BASE_URL: "https://example.irenfang.cn/onlinePreview/"  # é…ç½®nginxæ–¹å‘ä»£ç†è½¬å‘éœ€è¦ç”¨åˆ°ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£
            KK_CONTEXT_PATH: "/onlinePreview/"  # é…ç½®nginxæ–¹å‘ä»£ç†è½¬å‘éœ€è¦ç”¨åˆ°ï¼Œè¯¦è§å®˜æ–¹æ–‡æ¡£
   ```
   nginxé…ç½®ï¼š
   ```nginx
   # kkfileview æ–‡ä»¶é¢„è§ˆæœåŠ¡
   location /onlinePreview/ {
      proxy_set_header Host $host;  
      proxy_set_header X-Real-IP $remote_addr;  
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
      proxy_pass http://172.18.0.1:8012/onlinePreview/;
   }
   ```

# æ¥å£è¯´æ˜

## åˆ—è¡¨æ¥å£

- åˆ†é¡µåŠŸèƒ½

- åˆ—è¡¨æ¥å£æ’åºåŠŸèƒ½

  æ’åºå­—æ®µæ¥æ”¶ä¸¤ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œåœ¨å‰çš„ä¼˜å…ˆçº§è¾ƒé«˜

  å¯¹äºæ—¶é—´ã€æ•°å­—ã€å­—ç¬¦ç±»å‹å¯ä»¥ç›´æ¥ä½¿ç”¨æ˜¯å¦é™åºæ§åˆ¶

  å¯¹äºçŠ¶æ€ï¼Œå¯ä»¥æŒ‰ç…§æä¾›çš„åˆ—è¡¨é¡ºåºè¿›è¡Œæ’åº

  ä¾‹å¦‚ï¼š

```
   "æ’åºå­—æ®µ": [
      {
         "å­—æ®µ": "çŠ¶æ€",
         "é™åº": false,
         "é¡ºåº": [
            "ç¼–è¾‘ä¸­",
            "å‘å¸ƒ"
         ]
      },
      {
         "å­—æ®µ": "åˆ›å»ºæ—¶é—´",
         "é™åº": true
      }
   ]
```

## ç»çº¬åº¦åºåˆ—

éƒ¨åˆ†æ¥å£æ”¯æŒåŠ¨æ€ä¿®æ”¹ç»çº¬åº¦åºåˆ—

headersï¼š
coordinate-system: wgs84



